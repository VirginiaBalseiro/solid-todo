(this["webpackJsonpsolid-todo-v4"]=this["webpackJsonpsolid-todo-v4"]||[]).push([[0],{234:function(e,t,n){e.exports=n(512)},239:function(e,t,n){},335:function(e,t){},354:function(e,t){},356:function(e,t){},381:function(e,t){},383:function(e,t){},411:function(e,t){},413:function(e,t){},414:function(e,t){},420:function(e,t){},422:function(e,t){},440:function(e,t){},442:function(e,t){},454:function(e,t){},457:function(e,t){},510:function(e,t,n){},512:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(230),o=n.n(c),s=(n(239),n(16));n(510);function u(){return r.a.createElement("div",{className:"login-container"},r.a.createElement(s.LoginButton,{className:"login-btn",oidcIssuer:"https://inrupt.net",redirectUrl:window.location.href}))}var i=n(15),l=n(0),f=n.n(l),p=n(22),d=n(8),m=n(23);function b(e){var t=Object(d.addStringNoLocale)(Object(d.createThing)(),m.b.text,e);return Object(d.addDatetime)(t,m.a.created,new Date)}function h(e,t,n,a){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(f.a.mark((function e(t,n,a,r){var c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.setThing)(n,a,{fetch:r});case 2:return c=e.sent,e.next=5,Object(d.saveSolidDatasetAt)(t,c,{fetch:r});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(f.a.mark((function e(t,n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(d.createSolidDataset)(),e.next=4,Object(d.saveSolidDatasetAt)(n,a,{fetch:t});case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(e,t,n){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(f.a.mark((function e(t,n,a){var r,c,o,s,u,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=["Nothing is impossible","Yesterday you said tomorrow","Don't let your dreams be dreams","The more often you do it, the more light there will be"].map((function(e,t){var n=Date.now()+1e3*t,a=Object(d.addStringNoLocale)(Object(d.createThing)(),m.b.text,e);return Object(d.addDatetime)(a,m.a.created,new Date(n))})),e.next=3,h(n,t,r[0],a);case 3:return c=e.sent,e.next=6,h(n,c,r[1],a);case 6:return o=e.sent,e.next=9,h(n,o,r[2],a);case 9:return s=e.sent,e.next=12,h(n,s,r[3],a);case 12:return u=e.sent,e.next=15,Object(d.saveSolidDatasetAt)(n,u,{fetch:a});case 15:return i=e.sent,e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(f.a.mark((function e(t,n,a){var r,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fetch,e.prev=1,e.next=4,Object(d.getSolidDataset)(n,{fetch:r});case 4:return c=e.sent,e.abrupt("return",c);case 8:if(e.prev=8,e.t0=e.catch(1),console.log(e.t0),!e.t0.message.includes("404")){e.next=20;break}return a(!0),e.next=15,g(r,n);case 15:return o=e.sent,a(!1),e.abrupt("return",o);case 20:console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function y(e,t,n,a){return D.apply(this,arguments)}function D(){return(D=Object(p.a)(f.a.mark((function e(t,n,a,r){var c,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Date,o=Object(d.addDatetime)(t,m.a.completed,c),s=Object(d.setThing)(n,o,{fetch:r}),e.next=5,Object(d.saveSolidDatasetAt)(a,s,{fetch:r});case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n,a){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(f.a.mark((function e(t,n,a,r){var c,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(d.getDatetime)(t,m.a.completed),o=Object(d.removeDatetime)(t,m.a.completed,c),s=Object(d.setThing)(n,o,{fetch:r}),e.next=5,Object(d.saveSolidDatasetAt)(a,s,{fetch:r});case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n,a){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(f.a.mark((function e(t,n,a,r){var c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(d.removeThing)(a,t),e.next=3,Object(d.saveSolidDatasetAt)(n,c,{fetch:r});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=e.todoDataset,n=e.containerIri,c=e.setTodos,o=Object(s.useSession)().session.fetch,u=Object(a.useState)(""),l=Object(i.a)(u,2),d=l[0],m=l[1],v=function(){var e=Object(p.a)(f.a.mark((function e(a){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=b(d),e.next=4,h(n,t,r,o);case 4:s=e.sent,c(s),m("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"todo-input-container",onSubmit:v},r.a.createElement("label",{htmlFor:"todo-input",className:"todo-input-label"},r.a.createElement("input",{className:"todo-input",type:"text",value:d,onChange:function(e){e.preventDefault(),m(e.target.value)}})),r.a.createElement("button",{className:"add-btn",type:"submit"},r.a.createElement("i",{className:"fas fa-plus"}))))}var C=function(e,t,n,a,r,c){return Object(p.a)(f.a.mark((function o(){var s,u,i,l;return f.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(r){o.next=8;break}return s=Object(d.getThing)(e,t,{fetch:c}),o.next=4,y(s,e,n,c);case 4:u=o.sent,a(u),o.next=13;break;case 8:return i=Object(d.getThing)(e,t,{fetch:c}),o.next=11,k(i,e,n,c);case 11:l=o.sent,a(l);case 13:case"end":return o.stop()}}),o)})))};function A(){var e=Object(s.useSession)().session,t=Object(a.useState)(),n=Object(i.a)(t,2),c=n[0],o=n[1],u=new URL(e.info.webId).origin+"/"+"todos/index.ttl",l=function(){var t=Object(p.a)(f.a.mark((function t(n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(d.getThing)(c,n),t.next=3,T(a,u,c,e.fetch);case 3:r=t.sent,o(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(p.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(c,u,e.fetch);case 2:n=t.sent,o(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(Object(a.useEffect)((function(){Object(p.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e,u);case 2:n=t.sent,o(n);case 4:case"end":return t.stop()}}),t)})))()}),[o,e,u]),!c)return null;if(0===c.quads.size)return r.a.createElement("div",{className:"populate-message"},"Do you want to add some todos?",r.a.createElement("p",null,"You can delete them later."),r.a.createElement("button",{onClick:b,className:"populate-btn"},"Click here"));var h=Object(d.getThingAll)(c).sort((function(e,t){return Object(d.getDatetime)(e,m.a.created).getMilliseconds()-Object(d.getDatetime)(t,m.a.created).getMilliseconds()})).map((function(e){return{thing:Object(d.addStringNoLocale)(e,m.b.url,Object(d.asUrl)(e)),dataset:c}}));return r.a.createElement("div",{className:"todos-container"},r.a.createElement(s.Table,{things:h},r.a.createElement(s.TableColumn,{property:m.b.text,header:"",body:function(e){var t=e.row,n=e.value,a=Boolean(t.original.col1);return r.a.createElement("p",{className:"todo-text  ".concat(a?"done":"active")},n)}}),r.a.createElement(s.TableColumn,{header:"JUST DO IT!",property:m.a.completed,dataType:"datetime",body:function(t){var n=t.row,a=t.value,s=Boolean(a),i=n.original.col2;return r.a.createElement("label",{className:"done-container"},r.a.createElement("input",{className:"done-checkbox",type:"checkbox",checked:s,onChange:C(c,i,u,o,s,e.fetch)}),r.a.createElement("span",{className:"done-checkmark"}))}}),r.a.createElement(s.TableColumn,{property:m.b.url,header:"",body:function(e){var t=e.value;return r.a.createElement("button",{className:"delete-btn",onClick:function(){return l(t)}},r.a.createElement("i",{className:"fas fa-trash"}))}})),r.a.createElement(I,{todoDataset:c,containerIri:u,setTodos:o}))}var L=function(){var e=Object(s.useSession)().session;return e.info.isLoggedIn?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"logged-in-message"},e.info.webId?r.a.createElement(s.CombinedDataProvider,{datasetUrl:e.info.webId,thingUrl:e.info.webId},r.a.createElement(s.Text,{property:"http://www.w3.org/2006/vcard/ns#fn"})):null,r.a.createElement(s.LogoutButton,null))),r.a.createElement(A,null)):r.a.createElement(u,null)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.SessionProvider,{sessionId:"solid-todo"},r.a.createElement(L,null))),document.getElementById("root"))},93:function(e,t){}},[[234,1,2]]]);
//# sourceMappingURL=main.db608b38.chunk.js.map